<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Media Gallery Reference App Demo</title>

<!-- The Echo Loader is all we need for a modern app. It loads everything else. -->
<script type="text/javascript" src="//cdn.echoenabled.com/sdk/v3/loader.js"></script>

<!-- Just a quick set of styles -->
<link rel="stylesheet" href="demo.css" />
</head>
<body>
	<!-- Top black nav bar to select the visualization to display. -->
	<nav><ul class="clearfix">
		<li><a href="/reference/apps/gallery" class="active">Pinboard</a></li>
		<li><a href="/reference/apps/gallery/streamlined.html">Streamlined Photo Wall</a></li>
		<li><a href="/reference/apps/gallery/tabbed.html">Tabbed Pinboard</a></li>
		<li><a href="/reference/apps/gallery/full.html">Full Screen Gallery</a></li>
	</ul></nav>

	<!-- Populated by demo.js. -->
	<div id="gallery-app"></div>

	<script type="text/javascript">
		// initEnvironment works a bit like $(document).ready() - its callback will be
		// fired once the base Echo dependencies have been loaded. It is a good wrapper
		// to use before calling other Echo Loader methods directly.
		Echo.Loader.initEnvironment(function() {
			// Echo loads jQuery 1.10.x, which we are happy with. We do this before we
			// start the loader because when the dependency-management kicks in it may
			// load jQuery plugins. We must have a window.jQuery object for them to
			// install into.
			window.jQuery = window.$ = Echo.jQuery;

			// Authentication transport between apps. For production use, change
			// "busName" to the correct value for your environment.
			var backplane = {
				"serverBaseURL": "http://api.echoenabled.com/v1",
				"busName": "jskit"
			};

			// DataServer has been pre-configured to supply media items to this target
			// URL. Note that target URLs do not have to be real - they just establish
			// the parent/child hierarchy in the database. In practice, this would
			// typically be the URL of the page the user is viewing, the URL of a
			// related-items category landing page, or similar.
			// var targetURL = "http://example.com/media-gallery-app/";
			// var targetURL = "http://codepen.io/crrobinson14/classiccars";
			var targetURL = "http://univision-general.example.com/social-source-input/zpr4pgy4qq";

			// This is a rate-limited key for demonstration purposes. For production
			// use, change this to the real API key for your account.
			// var appkey = "echo.jssdk.demo.aboutecho.com";
			var appkey = "echo.echo.stream.univision.prod";
		    // var appkey = "echo.echo.streamserver.echo-apps-chad.prod";

			// Sample Janrain authentication config for demonstration purposes. For
			// production use, change this to the correct auth setup for your site.
			var authconfig = {
				"janrainApp": "echo"
			};

			// Pinboard
			Echo.Loader.initApplication({
				"script": "//echosandbox.com/reference/apps/gallery/app/app.js",
				"component": "Echo.Apps.MediaGallery",
				"backplane": backplane,
				"config": {
					"appkey": appkey,
					"targetURL": targetURL,
					"auth": authconfig,
					"target": document.getElementById("gallery-app"),
					"visualization": "pinboard"
				}
			});
		});

	</script>
</body>
</html>
